(this["webpackJsonpsekai-viewer"]=this["webpackJsonpsekai-viewer"]||[]).push([[46],{1040:function(e,t,n){"use strict";n.r(t);var a=n(29),c=n(1),r=n(11),i=n(227),s=n(230),o=n(279),j=n(53),l=n(263),d=n(278),b=n(403),u=n(208),O=n(240),m=n(133),h=n(341),x=n(406),f=n(407),p=n(404),g=n.n(p),y=n(405),v=n.n(y),w=n(0),_=n(187),N=n(336),k=n(296),S=n(290),I=n(289),C=n(292),T=n(366),P=n(306),E=n(223),B=n(325),W=n(349),z=n(352),K=n(280),M=n(37),D=n(45),J=Object(E.a)((function(e){return{media:{paddingTop:"5%",backgroundSize:"contain"},card:{cursor:"pointer"},header:{},"grid-out":{padding:e.spacing("1%","2%")}}})),R={grid:function(e){var t=e.data,n=J(),a=Object(D.c)().getTranslated,r=Object(w.useContext)(M.a).contentTransMode;return t?Object(c.jsx)(w.Fragment,{children:Object(c.jsxs)(B.a,{className:n.card,children:[Object(c.jsx)(z.a,{className:n.media,title:a(r,"honor_mission:".concat(t.id),t.sentence),children:Object(c.jsx)(T.a,{resourceBoxId:t.rewards[0].resourceBoxId,type:"mission_reward"})}),Object(c.jsx)(W.a,{style:{paddingBottom:"16px"},children:Object(c.jsx)(o.a,{container:!0,direction:"column",spacing:1,children:Object(c.jsx)(o.a,{item:!0,children:Object(c.jsx)(C.b,{contentKey:"honor_mission:".concat(t.id),original:t.sentence,originalProps:{variant:"subtitle1"},translatedProps:{variant:"subtitle1"}})})})})]})}):Object(c.jsxs)(B.a,{className:n.card,children:[Object(c.jsx)(K.a,{variant:"rect",className:n.media}),Object(c.jsxs)(W.a,{children:[Object(c.jsx)(j.a,{variant:"subtitle1",className:n.header,children:Object(c.jsx)(K.a,{variant:"text",width:"90%"})}),Object(c.jsx)(j.a,{variant:"body2",children:Object(c.jsx)(K.a,{variant:"text",width:"40%"})})]})]})}};var F=function(e){var t=e.resourceBoxId,n=e.open,a=e.onClose,d=e.missionData,b=Object(_.a)().t,u=Object(I.e)("resourceBoxes"),O=Object(r.a)(u,1)[0],m=Object(I.e)("honors"),h=Object(r.a)(m,1)[0],x=Object(I.e)("honorGroups"),f=Object(r.a)(x,1)[0],p=Object(w.useState)(),g=Object(r.a)(p,2),y=g[0],v=g[1],N=Object(w.useState)(),k=Object(r.a)(N,2),S=k[0],P=k[1];return Object(w.useEffect)((function(){if(O&&h&&f&&t){var e=h.find((function(e){return e.id===O.find((function(e){return"mission_reward"===e.resourceBoxPurpose&&e.id===t})).details.find((function(e){return"honor"===e.resourceType})).resourceId})),n=f.find((function(t){return t.id===e.groupId}));v(e),P(n)}}),[h,O,t,f]),y&&S&&d?Object(c.jsx)(i.a,{open:n,onClose:a,fullWidth:!0,children:Object(c.jsxs)(s.a,{children:[Object(c.jsx)(o.a,{container:!0,spacing:2,children:Object(c.jsx)(o.a,{item:!0,container:!0,justify:"center",children:Object(c.jsx)(T.a,{resourceBoxId:t,type:"mission_reward"})})}),Object(c.jsxs)(o.a,{container:!0,direction:"row",wrap:"nowrap",justify:"space-between",alignItems:"center",children:[Object(c.jsx)(j.a,{variant:"subtitle1",style:{fontWeight:600},children:b("common:id")}),Object(c.jsx)(j.a,{children:y.id})]}),Object(c.jsx)(l.a,{style:{margin:"1% 0"}}),Object(c.jsxs)(o.a,{container:!0,direction:"row",wrap:"nowrap",justify:"space-between",alignItems:"center",children:[Object(c.jsx)(j.a,{variant:"subtitle1",style:{fontWeight:600},children:b("common:title")}),Object(c.jsx)(C.b,{contentKey:"honor_name:".concat(y.name),original:y.name,originalProps:{align:"right"},translatedProps:{align:"right"}})]}),Object(c.jsx)(l.a,{style:{margin:"1% 0"}}),Object(c.jsxs)(o.a,{container:!0,direction:"row",wrap:"nowrap",justify:"space-between",alignItems:"center",children:[Object(c.jsx)(o.a,{item:!0,xs:3,md:2,children:Object(c.jsx)(j.a,{variant:"subtitle1",style:{fontWeight:600},children:b("common:description")})}),Object(c.jsx)(o.a,{item:!0,xs:8,md:9,children:Object(c.jsx)(C.b,{contentKey:"honor_mission:".concat(d.id),original:d.sentence,originalProps:{align:"right"},translatedProps:{align:"right"}})})]}),Object(c.jsx)(l.a,{style:{margin:"1% 0"}}),Object(c.jsxs)(o.a,{container:!0,direction:"row",wrap:"nowrap",justify:"space-between",alignItems:"center",children:[Object(c.jsx)(j.a,{variant:"subtitle1",style:{fontWeight:600},children:b("mission:type.caption")}),Object(c.jsx)(j.a,{children:b("mission:type.".concat(d.honorMissionType))})]}),Object(c.jsx)(l.a,{style:{margin:"1% 0"}}),Object(c.jsxs)(o.a,{container:!0,direction:"row",wrap:"nowrap",justify:"space-between",alignItems:"center",children:[Object(c.jsx)(o.a,{item:!0,xs:3,children:Object(c.jsx)(j.a,{variant:"subtitle1",style:{fontWeight:600},children:b("mission:requirement")})}),Object(c.jsx)(o.a,{item:!0,xs:8,children:Object(c.jsx)(j.a,{align:"right",children:d.requirement})})]}),Object(c.jsx)(l.a,{style:{margin:"1% 0"}}),Object(c.jsxs)(o.a,{container:!0,direction:"row",wrap:"nowrap",justify:"space-between",alignItems:"center",children:[Object(c.jsx)(j.a,{variant:"subtitle1",style:{fontWeight:600},children:b("honor:honor_group")}),Object(c.jsx)(C.b,{contentKey:"honorGroup_name:".concat(S.id),original:S.name,originalProps:{align:"right"},translatedProps:{align:"right"}})]}),Object(c.jsx)(l.a,{style:{margin:"1% 0"}}),Object(c.jsxs)(o.a,{container:!0,direction:"row",wrap:"nowrap",justify:"space-between",alignItems:"center",children:[Object(c.jsx)(j.a,{variant:"subtitle1",style:{fontWeight:600},children:b("common:rarity")}),Object(c.jsx)(j.a,{children:b("honor:rarity.".concat(y.honorRarity))})]}),Object(c.jsx)(l.a,{style:{margin:"1% 0"}}),y.levels.map((function(e){return Object(c.jsxs)(w.Fragment,{children:[Object(c.jsxs)(o.a,{container:!0,direction:"row",wrap:"nowrap",justify:"space-between",alignItems:"center",children:[Object(c.jsx)(j.a,{variant:"subtitle1",style:{fontWeight:600},children:b("common:level")}),Object(c.jsx)(j.a,{children:e.level})]}),Object(c.jsx)(l.a,{style:{margin:"1% 0"}}),Object(c.jsxs)(o.a,{container:!0,direction:"row",wrap:"nowrap",justify:"space-between",alignItems:"center",children:[Object(c.jsx)(o.a,{item:!0,xs:3,md:2,children:Object(c.jsx)(j.a,{variant:"subtitle1",style:{fontWeight:600},children:b("common:description")})}),Object(c.jsx)(o.a,{item:!0,xs:8,md:9,children:Object(c.jsx)(j.a,{align:"right",children:e.description})})]}),Object(c.jsx)(l.a,{style:{margin:"1% 0"}})]})}))]})}):null};t.default=function(){var e=Object(S.a)(),t=Object(k.a)(),n=Object(_.a)().t,i=Object(I.e)("honorMissions"),s=Object(r.a)(i,1)[0],l=Object(w.useState)([]),p=Object(r.a)(l,2),y=p[0],C=p[1],T=Object(w.useState)(!1),E=Object(r.a)(T,2),B=E[0],W=E[1],z=Object(w.useState)(0),K=Object(r.a)(z,2),M=K[0],D=K[1],J=Object(w.useState)(),L=Object(r.a)(J,2),q=L[0],A=L[1],G=Object(w.useState)(localStorage.getItem("event-list-grid-view-type")||"grid"),V=Object(r.a)(G,1)[0],H=Object(w.useState)(1),Q=Object(r.a)(H,2),U=Q[0],X=Q[1],Y=Object(w.useState)(12),Z=Object(r.a)(Y,1)[0],$=Object(w.useState)(!0),ee=Object(r.a)($,2),te=ee[0],ne=ee[1],ae=Object(w.useState)(!1),ce=Object(r.a)(ae,2),re=ce[0],ie=ce[1],se=Object(w.useState)(!1),oe=Object(r.a)(se,2),je=oe[0],le=oe[1],de=Object(w.useReducer)(N.c,[]),be=Object(r.a)(de,2),ue=be[0],Oe=be[1],me=Object(w.useState)([]),he=Object(r.a)(me,2),xe=he[0],fe=he[1];Object(w.useEffect)((function(){document.title=n("title:honorList")}),[n]),Object(w.useEffect)((function(){if(s&&s.length){var e=Object(a.a)(s);ue.length&&(e=e.filter((function(e){return ue.some((function(t){return e.honorMissionType.includes(t)}))}))),fe(e),C([]),X(0)}}),[s,X,fe,ue]),Object(w.useEffect)((function(){C((function(e){return[].concat(Object(a.a)(e),Object(a.a)(function(e,t,n){return e.slice(n*(t-1),n*t)}(xe,U,Z)))})),ne(!0)}),[U,Z,ne,xe]),Object(w.useEffect)((function(){ie(Boolean(s&&s.length))}),[ie,s]);var pe=Object(w.useCallback)((function(e,t){re&&(e[0].isIntersecting&&te&&(!xe.length||xe.length>U*Z)?(X((function(e){return e+1})),ne(!1)):xe.length&&xe.length<=U*Z&&t(!1))}),[re,te,Z,U,xe.length]);return Object(c.jsxs)(w.Fragment,{children:[Object(c.jsxs)(j.a,{variant:"h6",className:e.header,children:[n("common:mission.main")," - ",n("common:mission.honor")]}),Object(c.jsxs)(d.a,{className:e.content,children:[Object(c.jsx)(o.a,{container:!0,justify:"flex-end",children:Object(c.jsx)(b.a,{color:"primary",style:{marginBottom:"1%"},children:Object(c.jsxs)(u.a,{size:"medium",onClick:function(){return le((function(e){return!e}))},children:[je?Object(c.jsx)(g.a,{}):Object(c.jsx)(v.a,{}),je?Object(c.jsx)(x.a,{}):Object(c.jsx)(f.a,{})]})})}),Object(c.jsx)(O.a,{in:je,children:Object(c.jsx)(m.a,{className:t.container,children:Object(c.jsx)(o.a,{container:!0,direction:"column",spacing:1,children:Object(c.jsxs)(o.a,{item:!0,container:!0,xs:12,alignItems:"center",justify:"space-between",children:[Object(c.jsx)(o.a,{item:!0,xs:12,md:1,children:Object(c.jsx)(j.a,{classes:{root:t.caption},children:n("filter:missionType.caption")})}),Object(c.jsx)(o.a,{item:!0,container:!0,xs:12,md:10,spacing:1,children:["clear_live","player_rank","character_rank","unit_rank","collect","duplicate_card","area_item","login","master","multi_live","action_set","read_story","virtual_live"].map((function(e){return Object(c.jsx)(o.a,{item:!0,children:Object(c.jsx)(h.a,{clickable:!0,color:ue.includes(e)?"primary":"default",label:n("mission:type.".concat(e)),onClick:function(){ue.includes(e)?Oe({type:"remove",payload:e}):Oe({type:"add",payload:e})}})},"mission-type-"+e)}))})]})})})}),Object(c.jsx)(P.a,{ViewComponent:R[V],callback:pe,data:y,gridSize:{grid:{xs:12,sm:6,md:4,lg:3,xl:2},agenda:{xs:12},comfy:{xs:12}}[V],onComponentClick:function(e){A(e),D(e.rewards[0].resourceBoxId),W(!0)}})]}),Object(c.jsx)(F,{missionData:q,resourceBoxId:M,open:B,onClose:function(){return W(!1)}})]})}},292:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return O}));var a=n(11),c=n(1),r=n(26),i=n(53),s=n(279),o=n(0),j=n(37),l=n(289),d=n(45),b=function(e){var t=e.contentKey,n=e.original,a=e.originalProps,l=e.translatedProps,b=e.assetTOptions,u=Object(o.useContext)(j.a).contentTransMode,O=Object(d.c)().assetT;switch(u){case"original":return Object(c.jsx)(i.a,Object(r.a)(Object(r.a)({},a),{},{children:n}));case"translated":return Object(c.jsx)(i.a,Object(r.a)(Object(r.a)({},l),{},{color:"textPrimary",children:O(t,n,b)}));case"both":return Object(c.jsxs)(s.a,{container:!0,direction:"column",children:[Object(c.jsx)(i.a,Object(r.a)(Object(r.a)({},a),{},{color:"textPrimary",children:n})),Object(c.jsx)(i.a,Object(r.a)(Object(r.a)({},l),{},{color:"textSecondary",children:O(t,n,b)}))]})}},u=function(e){var t=e.characterId,n=e.originalProps,b=e.translatedProps,u=e.assetTOptions,O=Object(o.useContext)(j.a).contentTransMode,m=Object(l.e)("gameCharacters"),h=Object(a.a)(m,1)[0],x=Object(d.c)(),f=x.assetT,p=x.assetI18n,g=Object(o.useState)(),y=Object(a.a)(g,2),v=y[0],w=y[1];if(Object(o.useEffect)((function(){h&&w(h.find((function(e){return e.id===t})))}),[h,t]),!v)return Object(c.jsx)(i.a,{});switch(O){case"original":return Object(c.jsxs)(i.a,Object(r.a)(Object(r.a)({},n),{},{color:"textPrimary",children:[v.firstName," ",v.givenName]}));case"translated":return["zh-CN","zh-TW","ko","ja"].includes(p.language)?Object(c.jsxs)(i.a,Object(r.a)(Object(r.a)({},b),{},{color:"textPrimary",children:[v.firstName?f("character_name:".concat(t,".firstName"),v.firstName,u):""," ",f("character_name:".concat(t,".givenName"),v.givenName,u)]})):Object(c.jsxs)(i.a,{children:[f("character_name:".concat(t,".givenName"),v.givenName,u)," ",v.firstName?f("character_name:".concat(t,".firstName"),v.firstName,u):""]});case"both":return Object(c.jsxs)(s.a,{container:!0,direction:"column",children:[Object(c.jsxs)(i.a,Object(r.a)(Object(r.a)({},n),{},{children:[v.firstName," ",v.givenName]})),["zh-CN","zh-TW","ko","ja"].includes(p.language)?Object(c.jsxs)(i.a,Object(r.a)(Object(r.a)({color:"textSecondary"},b),{},{children:[v.firstName?f("character_name:".concat(t,".firstName"),v.firstName,u):""," ",f("character_name:".concat(t,".givenName"),v.givenName,u)]})):Object(c.jsxs)(i.a,Object(r.a)(Object(r.a)({color:"textSecondary"},b),{},{children:[f("character_name:".concat(t,".givenName"),v.givenName,u)," ",v.firstName?f("character_name:".concat(t,".firstName"),v.firstName,u):""]}))]})}},O=function(e){var t=e.releaseCondId,n=e.originalProps,r=e.translatedProps,i=e.assetTOptions,s=Object(l.e)("releaseConditions"),j=Object(a.a)(s,1)[0],d=Object(o.useState)(),u=Object(a.a)(d,2),O=u[0],m=u[1];if(Object(o.useEffect)((function(){j&&m(j.find((function(e){return e.id===t})))}),[t,j]),O){var h="";switch(O.releaseConditionType){case"none":h="release_cond:none_".concat(O.id);break;case"card_level":h="release_cond:card_level",i=Object.assign({},i,{level:O.releaseConditionTypeLevel});break;case"unit_rank":h="release_cond:unit_rank_".concat(O.releaseConditionTypeId),i=Object.assign({},i,{rank:O.releaseConditionTypeLevel});break;case"event_point":h="release_cond:event_point",i=Object.assign({},i,{point:O.releaseConditionTypeQuantity});break;default:h="release_cond:".concat(O.releaseConditionType)}return Object(c.jsx)(b,{contentKey:h,original:O.sentence,originalProps:n,translatedProps:r,assetTOptions:i})}return Object(c.jsx)("div",{})}},296:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(8),c=n(223),r=Object(c.a)((function(e){return{container:{margin:e.spacing(1,0),padding:e.spacing(1,2)},caption:Object(a.a)({},e.breakpoints.up("md"),{textAlign:"right"}),sliderContainer:Object(a.a)({},e.breakpoints.up("md"),{paddingRight:e.spacing(5)}),inputHidden:{display:"none"},noDecoration:{textDecoration:"none","&:hover":{textDecoration:"underline"},color:e.palette.text.primary}}}))},306:function(e,t,n){"use strict";var a=n(1),c=n(11),r=n(26),i=n(20),s=n(241),o=n(279),j=n(0),l=["xs","sm","md","lg","xl"],d={xs:12,md:4};t.a=function(e){var t=e.ViewComponent,n=e.callback,b=e.data,u=e.gridSize,O=e.viewProps,m=e.onComponentClick,h=function(e){var t=Object(r.a)({},e||d);return l.forEach((function(e,n,a){t[e]||(t[e]=n>0?t[a[n-1]]:12)})),t}(u),x=function(){var e=Object(i.a)();return l.map((function(t){return Object(s.a)(e.breakpoints.down(t))&&t})).find(Boolean)||l[l.length-1]}(),f=Object(j.useState)(!0),p=Object(c.a)(f,2),g=p[0],y=p[1],v=Object(j.useCallback)((function(e){return n(e,y)}),[n]),w=Object(j.useRef)(null);Object(j.useEffect)((function(){y(!0)}),[b]),Object(j.useEffect)((function(){var e=new IntersectionObserver(v,{threshold:.5}),t=w.current;return t&&e.observe(t),function(){t&&e.disconnect()}}),[v]);var _=12/h[x],N=b.length?_:2*_;return Object(a.jsxs)(j.Fragment,{children:[Object(a.jsx)(o.a,{container:!0,direction:"row",spacing:1,children:b.length?b.map((function(e,n){return Object(a.jsx)(o.a,{item:!0,xs:h.xs,sm:h.sm,md:h.md,lg:h.lg,xl:h.xl,onClick:function(){m&&m(e)},children:Object(a.jsx)(t,Object(r.a)({data:e,index:n},O))},e.id)})):null}),Object(a.jsx)(o.a,{container:!0,direction:"row",ref:w,style:{display:g?"flex":"none",paddingTop:"4px"},spacing:1,children:Array.from({length:N}).map((function(e,n){return Object(a.jsx)(o.a,{item:!0,xs:h.xs,sm:h.sm,md:h.md,lg:h.lg,xl:h.xl,children:Object(a.jsx)(t,{})},"empty-".concat(n))}))})]})}},308:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(223),c=Object(a.a)((function(){return{svg:{display:"block",width:"100%",height:"100%",pointerEvents:"visibleStroke"},skeleton:{width:"100%",paddingTop:"100%"}}}))},336:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return o}));var a=n(29);function c(e,t){switch(t.type){case"add":return[].concat(Object(a.a)(e),[t.payload]);case"remove":return[].concat(Object(a.a)(e.slice(0,e.indexOf(t.payload))),Object(a.a)(e.slice(e.indexOf(t.payload)+1)));case"reset":return[];default:throw new Error}}function r(e,t){switch(t.type){case"add":return[].concat(Object(a.a)(e),[t.payload]);case"remove":return[].concat(Object(a.a)(e.slice(0,e.indexOf(t.payload))),Object(a.a)(e.slice(e.indexOf(t.payload)+1)));case"reset":return[];default:throw new Error}}function i(e,t){switch(t.type){case"add":return[].concat(Object(a.a)(e),[t.payload]);case"remove":return[].concat(Object(a.a)(e.slice(0,e.indexOf(t.payload))),Object(a.a)(e.slice(e.indexOf(t.payload)+1)));case"reset":return[];default:throw new Error}}function s(e,t){switch(t.type){case"add":return[].concat(Object(a.a)(e),[t.payload]);case"remove":return[].concat(Object(a.a)(e.slice(0,e.indexOf(t.payload))),Object(a.a)(e.slice(e.indexOf(t.payload)+1)));case"reset":return[];default:throw new Error}}function o(e,t){switch(t.type){case"add":var n=[].concat(Object(a.a)(e),[t.payload]);return localStorage.setItem("team-build-array",JSON.stringify(n)),n;case"remove":var c=[].concat(Object(a.a)(e.slice(0,t.payload)),Object(a.a)(e.slice(t.payload+1)));return localStorage.setItem("team-build-array",JSON.stringify(c)),c;case"replace":var r=[].concat(Object(a.a)(e.slice(0,t.payload.id)),[t.payload.data],Object(a.a)(e.slice(t.payload.id+1)));return localStorage.setItem("team-build-array",JSON.stringify(r)),r;default:throw new Error}}},366:function(e,t,n){"use strict";var a=n(1),c=n(11),r=n(280),i=n(0),s=n(308),o=n(289),j=n(297);t.a=function(e){var t=e.resourceBoxId,n=e.type,l=e.honorId,d=e.style,b=Object(s.a)(),u=Object(o.e)("resourceBoxes"),O=Object(c.a)(u,1)[0],m=Object(o.e)("honors"),h=Object(c.a)(m,1)[0],x=Object(i.useState)(),f=Object(c.a)(x,2),p=f[0],g=f[1],y=Object(i.useState)(""),v=Object(c.a)(y,2),w=v[0],_=v[1],N=Object(i.useState)(""),k=Object(c.a)(N,2),S=k[0],I=k[1];return Object(i.useEffect)((function(){O&&h&&g(h.find((function(e){return t?e.id===O.find((function(e){return e.resourceBoxPurpose===n&&e.id===t})).details.find((function(e){return"honor"===e.resourceType})).resourceId:l?e.id===l:void 0})))}),[h,O,t,n,l]),Object(i.useEffect)((function(){p&&(Object(o.c)("honor/".concat(p.assetbundleName,"_rip/degree_main.webp"),_),("event_ranking_reward"===n||p.name.startsWith("TOP")||p.name.includes("\u4f4d"))&&Object(o.c)("honor/".concat(p.assetbundleName,"_rip/rank_main.webp"),I))}),[p,n]),p?Object(a.jsx)("div",{className:b.svg,children:Object(a.jsxs)("svg",{style:d,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 380 80",children:[Object(a.jsx)("image",{href:w,x:"0",y:"0",height:"80",width:"380"}),Object(a.jsx)("image",{href:j.i[p.honorRarity],x:"0",y:"0",height:"80",width:"380"}),S&&Object(a.jsx)("image",{href:S,x:"190",y:"0",width:"150",height:"78"})]})}):Object(a.jsx)(r.a,{variant:"rect",className:b.skeleton})}}}]);