(this["webpackJsonpsekai-viewer"]=this["webpackJsonpsekai-viewer"]||[]).push([[45],{1044:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(6),i=n.n(c),r=n(10),s=n(29),o=n(11),u=n(53),d=n(278),j=n(0),l=n(187),b=n(37),O=n(290),f=n(107),m=n(306),g=n(646),x=n.n(g),p=n(42),h=n(296),v=n(325),w=n(349),y=n(279),k=n(280),C=function(e){var t=e.data,n=Object(h.a)(),c=Object(l.a)().t;return t?Object(a.jsx)(j.Fragment,{children:Object(a.jsx)(p.b,{to:"/announcement/".concat(t.id),className:n.noDecoration,children:Object(a.jsxs)(v.a,{children:[Object(a.jsxs)(w.a,{children:[Object(a.jsxs)(u.a,{variant:"h5",children:[t.isPin&&Object(a.jsx)(x.a,{fontSize:"inherit"})," ",t.title]}),Object(a.jsx)(u.a,{children:t.description})]}),Object(a.jsx)(w.a,{children:Object(a.jsxs)(y.a,{container:!0,spacing:1,alignItems:"center",children:[Object(a.jsx)(y.a,{item:!0,children:Object(a.jsxs)(u.a,{variant:"subtitle2",color:"textSecondary",children:[c("announcement:category"),":"," ",c("announcement:categoryName.".concat(t.category))]})}),Object(a.jsx)(y.a,{item:!0,children:Object(a.jsxs)(u.a,{variant:"subtitle2",color:"textSecondary",children:[c("announcement:published_at"),":"," ",new Date(t.created_at).toLocaleString()]})})]})})]})})}):Object(a.jsx)(v.a,{children:Object(a.jsxs)(w.a,{children:[Object(a.jsx)(u.a,{variant:"h5",children:Object(a.jsx)(k.a,{variant:"text",width:"50%"})}),Object(a.jsx)(u.a,{children:Object(a.jsx)(k.a,{variant:"text",width:"90%"})}),Object(a.jsx)(u.a,{variant:"subtitle2",children:Object(a.jsx)(k.a,{variant:"text",width:"80%"})})]})})};t.default=function(){var e=Object(O.a)(),t=Object(l.a)().t,n=Object(j.useContext)(b.c).usermeta,c=Object(j.useContext)(b.a),g=c.languages,x=c.lang,p=Object(f.d)(),h=p.getAnnouncementByLanguagesPage,v=p.getAnnouncementByLanguagesCount,w=Object(j.useState)([]),y=Object(o.a)(w,2),k=y[0],S=y[1],N=Object(j.useState)(0),V=Object(o.a)(N,2),E=V[0],L=V[1],H=Object(j.useState)(!1),M=Object(o.a)(H,2),B=M[0],_=M[1],z=Object(j.useState)(!1),D=Object(o.a)(z,2),R=D[0],A=D[1],P=Object(j.useState)(0),F=Object(o.a)(P,2),I=F[0],T=F[1],W=Object(j.useState)(30),J=Object(o.a)(W,1)[0],Z=Object(j.useMemo)((function(){var e=1;if(g.length){var t=g.find((function(e){return e.code===x}))||g.find((function(e){return e.code===x.split("-")[0]}));t&&(e=t.id)}return e}),[x,g]),q=Object(j.useMemo)((function(){return n?[Z].concat(Object(s.a)(null===n||void 0===n?void 0:n.languages.map((function(e){return e.id})))):[Z]}),[Z,n]);Object(j.useLayoutEffect)((function(){document.title=t("title:announcementList")}),[t]),Object(j.useEffect)((function(){v(q).then((function(e){L(e),_(!0)}))}),[v,q]),Object(j.useEffect)((function(){Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(J,I,q);case 2:t=e.sent,S((function(e){return[].concat(Object(s.a)(e),Object(s.a)(t))})),A(!0);case 5:case"end":return e.stop()}}),e)})))()}),[h,x,g,J,I,q,n]);var G=Object(j.useCallback)((function(e,t){B&&(e[0].isIntersecting&&R&&(!E||E>I*J)?(T((function(e){return e+1})),A(!1)):E&&E<=I*J&&t(!1))}),[B,R,J,I,E]);return Object(a.jsxs)(j.Fragment,{children:[Object(a.jsx)(u.a,{variant:"h6",className:e.header,children:t("common:announcement")}),Object(a.jsx)(d.a,{className:e.content,children:Object(a.jsx)(m.a,{ViewComponent:C,callback:G,data:k,gridSize:{xs:12}})})]})}},290:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(223),c=Object(a.a)((function(e){return{header:{fontWeight:"bold"},content:{marginTop:e.spacing(3),marginBottom:e.spacing(3),marginLeft:"auto",marginRight:"auto"},alert:{margin:e.spacing(1,0)},bold:{fontWeight:e.typography.fontWeightBold},capitalize:{textTransform:"capitalize"},tabpanel:{padding:e.spacing("1%",0,0,0)},"grid-out":{padding:e.spacing("1%","0")}}}))},296:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(8),c=n(223),i=Object(c.a)((function(e){return{container:{margin:e.spacing(1,0),padding:e.spacing(1,2)},caption:Object(a.a)({},e.breakpoints.up("md"),{textAlign:"right"}),sliderContainer:Object(a.a)({},e.breakpoints.up("md"),{paddingRight:e.spacing(5)}),inputHidden:{display:"none"},noDecoration:{textDecoration:"none","&:hover":{textDecoration:"underline"},color:e.palette.text.primary}}}))},306:function(e,t,n){"use strict";var a=n(1),c=n(11),i=n(26),r=n(20),s=n(241),o=n(279),u=n(0),d=["xs","sm","md","lg","xl"],j={xs:12,md:4};t.a=function(e){var t=e.ViewComponent,n=e.callback,l=e.data,b=e.gridSize,O=e.viewProps,f=e.onComponentClick,m=function(e){var t=Object(i.a)({},e||j);return d.forEach((function(e,n,a){t[e]||(t[e]=n>0?t[a[n-1]]:12)})),t}(b),g=function(){var e=Object(r.a)();return d.map((function(t){return Object(s.a)(e.breakpoints.down(t))&&t})).find(Boolean)||d[d.length-1]}(),x=Object(u.useState)(!0),p=Object(c.a)(x,2),h=p[0],v=p[1],w=Object(u.useCallback)((function(e){return n(e,v)}),[n]),y=Object(u.useRef)(null);Object(u.useEffect)((function(){v(!0)}),[l]),Object(u.useEffect)((function(){var e=new IntersectionObserver(w,{threshold:.5}),t=y.current;return t&&e.observe(t),function(){t&&e.disconnect()}}),[w]);var k=12/m[g],C=l.length?k:2*k;return Object(a.jsxs)(u.Fragment,{children:[Object(a.jsx)(o.a,{container:!0,direction:"row",spacing:1,children:l.length?l.map((function(e,n){return Object(a.jsx)(o.a,{item:!0,xs:m.xs,sm:m.sm,md:m.md,lg:m.lg,xl:m.xl,onClick:function(){f&&f(e)},children:Object(a.jsx)(t,Object(i.a)({data:e,index:n},O))},e.id)})):null}),Object(a.jsx)(o.a,{container:!0,direction:"row",ref:y,style:{display:h?"flex":"none",paddingTop:"4px"},spacing:1,children:Array.from({length:C}).map((function(e,n){return Object(a.jsx)(o.a,{item:!0,xs:m.xs,sm:m.sm,md:m.md,lg:m.lg,xl:m.xl,children:Object(a.jsx)(t,{})},"empty-".concat(n))}))})]})}},325:function(e,t,n){"use strict";var a=n(2),c=n(3),i=n(0),r=(n(5),n(4)),s=n(133),o=n(7),u=i.forwardRef((function(e,t){var n=e.classes,o=e.className,u=e.raised,d=void 0!==u&&u,j=Object(c.a)(e,["classes","className","raised"]);return i.createElement(s.a,Object(a.a)({className:Object(r.a)(n.root,o),elevation:d?8:1,ref:t},j))}));t.a=Object(o.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(u)},349:function(e,t,n){"use strict";var a=n(2),c=n(3),i=n(0),r=(n(5),n(4)),s=n(7),o=i.forwardRef((function(e,t){var n=e.classes,s=e.className,o=e.component,u=void 0===o?"div":o,d=Object(c.a)(e,["classes","className","component"]);return i.createElement(u,Object(a.a)({className:Object(r.a)(n.root,s),ref:t},d))}));t.a=Object(s.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(o)},646:function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=(0,((a=n(55))&&a.__esModule?a:{default:a}).default)("M16,12V4H17V2H7V4H8V12L6,14V16H11.2V22H12.8V16H18V14L16,12Z");t.default=c}}]);